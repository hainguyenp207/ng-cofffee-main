{"version":3,"sources":["webpack:///./src/app/pages/login/login.module.ts","webpack:///./src/app/pages/login/login.component.ts","webpack:///./src/app/components/alert/alert.component.ts","webpack:///./src/app/pages/login/login.routing.ts","webpack:///./src/app/components/alert/alert.component.css","webpack:///./src/app/pages/login/login.component.css","webpack:///./src/app/components/alert/alert.component.html","webpack:///./src/app/pages/login/login.component.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACmB;AAEf;AACoB;AAM1C;AACY;AAuBzC,IAAa,WAAW;IAAxB;IAA2B,CAAC;IAAD,kBAAC;AAAD,CAAC;AAAf,WAAW;IArBvB,8EAAQ,CAAC;QACR,OAAO,EAAE;YACP,6DAAY;YACZ,2EAAmB;YACnB,mEAAW;YACX,+DAAO;SACR;QACD,YAAY,EAAE;YACZ,wEAAc;YACd,4FAAc;SACf;QACD,SAAS,EAAE;YACT,iFAAqB;YACrB,wEAAY;YACZ,uEAAW;YACX,uEAAW;YACX,+EAAmB;YACnB,2EAAe;YACf,2EAAe;SAChB;KACF,CAAC;GACW,WAAW,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACnC0B;AACO;AACiB;AACjC;AAOzC,IAAa,cAAc;IAKzB,wBACU,KAAqB,EACrB,MAAc,EACd,qBAA4C,EAC5C,YAA0B;QAH1B,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,iBAAY,GAAZ,YAAY,CAAc;QARpC,SAAI,GAAS,IAAI,8DAAI,CAAC;QACtB,YAAO,GAAY,KAAK,CAAC;IAQrB,CAAC;IAEL,iCAAQ,GAAR;QACE,qBAAqB;QACrB,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC;QAEpC,yDAAyD;QACzD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,GAAG,CAAC;IACxE,CAAC;IACD,8BAAK,GAAL;QAAA,iBAwBC;QAvBC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;aACrE,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,KAAI,CAAC,SAAS,CAAC,CAAC;YAC1C,IAAI,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC1C,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;YACxD,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,KAAK,GAAG,CAAC,CAAC,CAAC;gBAC3B,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACzC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,KAAI,CAAC,SAAS,GAAG,mBAAmB,GAAG,KAAK,GAAG,aAAa,GAAG,QAAQ,CAAC,IAAI,GAAG,WAAW,GAAG,QAAQ,CAAC,QAAQ,CAAC;YACxI,CAAC;QAEH,CAAC,EACD,eAAK;YACH,IAAI,MAAM,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;YAC1B,EAAE,CAAC,CAAC,MAAM,CAAC;gBACT,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YAC1C,IAAI,CAAC,CAAC;gBACJ,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACjC,CAAC;YACD,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAEH,qBAAC;AAAD,CAAC;AA7CY,cAAc;IAL1B,+EAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,kCAAqC;QACrC,kCAAoC;KACrC,CAAC;yDAOiB,uEAAc,oBAAd,uEAAc,sDACb,+DAAM,oBAAN,+DAAM,sDACS,iFAAqB,oBAArB,iFAAqB,sDAC9B,wEAAY,oBAAZ,wEAAY;GATzB,cAAc,CA6C1B;AA7C0B;;;;;;;;;;;;;;;;;;;;;;ACVuB;AACG;AAMrD,IAAa,cAAc;IAIzB,wBAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;IAAI,CAAC;IAEnD,iCAAQ,GAAR;QAAA,iBAEC;QADC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC,SAAS,CAAC,iBAAO,IAAM,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IACnF,CAAC;IAEH,qBAAC;AAAD,CAAC;AAVY,cAAc;IAL1B,+EAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,kCAAqC;QACrC,kCAAoC;KACrC,CAAC;yDAKkC,qEAAY,oBAAZ,qEAAY;GAJnC,cAAc,CAU1B;AAV0B;;;;;;;;;;;;;;ACP4B;AAEJ;AAGnD,uCAAuC;AAChC,IAAM,MAAM,GAAW;IAC5B;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wEAAc;KAC1B;CACF,CAAC;AAEK,IAAM,OAAO,GAAwB,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;;;;;;;;ACb1E;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,sDAAsD,oIAAoI,SAAS,cAAc,S;;;;;;;ACAjN,+hBAA+hB,kDAAkD,4iBAA4iB,kDAAkD,+iC","file":"0.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { LoginComponent } from './login.component';\nimport { AlertComponent, } from 'app/components/alert/alert.component';\nimport {\n  AlertService, AuthenticationService, UserService,\n  OrganizationService, ActivityService, RoleService,\n  RegisterService\n\n} from 'app/_services/index';\nimport { routing } from './login.routing'\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    FormsModule,\n    routing,\n  ],\n  declarations: [\n    LoginComponent,\n    AlertComponent\n  ],\n  providers: [\n    AuthenticationService,\n    AlertService,\n    UserService,\n    RoleService,\n    OrganizationService,\n    ActivityService,\n    RegisterService\n  ],\n})\nexport class LoginModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/login/login.module.ts","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AlertService, AuthenticationService } from 'app/_services/index';\nimport { User } from 'app/_models/index';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  user: User = new User;\n  loading: boolean = false;\n  returnUrl: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private authenticationService: AuthenticationService,\n    private alertService: AlertService\n  ) { }\n\n  ngOnInit() {\n    // reset login status\n    this.authenticationService.logout();\n\n    // get return url from route parameters or default to '/'\n    this.returnUrl = this.route.snapshot.queryParams['return_url'] || '/';\n  }\n  login() {\n    this.loading = true;\n    this.authenticationService.login(this.user.username, this.user.password)\n      .subscribe(\n      data => {\n        console.log(\"Return url\", this.returnUrl);\n        let token = localStorage.getItem(\"token\");\n        let dataUser = JSON.parse(localStorage.getItem(\"data\"));\n        if (this.returnUrl === \"/\") {\n          this.router.navigate([this.returnUrl]);\n        } else {\n          window.location.href = this.returnUrl + \"/#/?access_token=\" + token + \"&user_name=\" + dataUser.name + \"&user_id=\" + dataUser.username;\n        }\n\n      },\n      error => {\n        let detail = error.json();\n        if (detail)\n          this.alertService.error(detail.message);\n        else {\n          this.alertService.error(error);\n        }\n        this.loading = false;\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/login/login.component.ts","import { Component, OnInit } from '@angular/core';\nimport { AlertService } from '../../_services/index';\n@Component({\n  selector: 'app-alert',\n  templateUrl: './alert.component.html',\n  styleUrls: ['./alert.component.css']\n})\nexport class AlertComponent implements OnInit {\n\n  message: any;\n\n  constructor(private alertService: AlertService) { }\n\n  ngOnInit() {\n    this.alertService.getMessage().subscribe(message => { this.message = message; });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/components/alert/alert.component.ts","import { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './login.component';\nimport { ModuleWithProviders } from '@angular/core';\n\n// noinspection TypeScriptValidateTypes\nexport const routes: Routes = [\n  {\n    path: '',\n    component: LoginComponent\n  }\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forChild(routes);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/login/login.routing.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/alert/alert.component.css\n// module id = 662\n// module chunks = 0","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/login/login.component.css\n// module id = 663\n// module chunks = 0","module.exports = \"<div *ngIf=\\\"message\\\" [ngClass]=\\\"{ 'alert alert-dismissable fade in': message, 'alert-success': message.type === 'success', 'alert-danger': message.type === 'error' }\\\">\\n  {{message.text}}\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/alert/alert.component.html\n// module id = 664\n// module chunks = 0","module.exports = \"<div class=\\\"account-pages\\\">\\n</div>\\n<div class=\\\"clearfix\\\"></div>\\n<div class=\\\"wrapper-page\\\">\\n  <div class=\\\"card-box\\\">\\n    <div class=\\\"panel-heading\\\">\\n      <h3 class=\\\"text-center\\\"> Đăng nhập</h3>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n      <form class=\\\"form-horizontal m-t-20\\\" (ngSubmit)=\\\"f.form.valid && login()\\\" #f=\\\"ngForm\\\" novalidate>\\n        <app-alert></app-alert>\\n        <div class=\\\"form-group \\\">\\n          <div class=\\\"col-xs-12\\\">\\n            <input name=\\\"username\\\" [ngClass]=\\\"{ 'parsley-error': f.submitted && !username.valid }\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"user.username\\\"\\n              #username=\\\"ngModel\\\" type=\\\"text\\\" required=\\\"\\\" placeholder=\\\"Tên đăng nhập\\\">\\n            <ul *ngIf=\\\"f.submitted && !username.valid\\\" class=\\\"parsley-errors-list filled\\\" id=\\\"parsley-id-5\\\">\\n              <li class=\\\"parsley-required\\\">Tên đăng nhập không được để trống.</li>\\n            </ul>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"form-group\\\">\\n          <div class=\\\"col-xs-12\\\">\\n            <input name=\\\"password\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'parsley-error': f.submitted && !password.valid }\\\" [(ngModel)]=\\\"user.password\\\"\\n              #password=\\\"ngModel\\\" type=\\\"password\\\" required=\\\"\\\" placeholder=\\\"Mật khẩu\\\">\\n            <ul *ngIf=\\\"f.submitted && !password.valid\\\" class=\\\"parsley-errors-list filled\\\" id=\\\"parsley-id-5\\\">\\n              <li class=\\\"parsley-required\\\">Mật khẩu không được để trống.</li>\\n            </ul>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"form-group \\\">\\n          <div class=\\\"col-xs-12\\\">\\n            <div class=\\\"checkbox checkbox-primary\\\">\\n              <input id=\\\"checkbox-signup\\\" type=\\\"checkbox\\\">\\n              <label for=\\\"checkbox-signup\\\">\\n                  Nhớ tài khoản\\n              </label>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"form-group text-center m-t-40\\\">\\n          <div class=\\\"col-xs-12\\\">\\n            <button class=\\\"btn btn-info btn-block text-uppercase waves-effect waves-light\\\" style=\\\"background-color: #0e76bc\\\" type=\\\"submit\\\">Đăng nhập</button>\\n          </div>\\n        </div>\\n      </form>\\n\\n    </div>\\n  </div>\\n\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/login/login.component.html\n// module id = 665\n// module chunks = 0"],"sourceRoot":""}